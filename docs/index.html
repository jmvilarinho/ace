<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Webcam playas</title>
    <meta name="author" content="JM Vilari√±o" />
	  <link rel="stylesheet" type="text/css" href="html5video.css" />
</head>
<body>
		

  <script src="hls.js"></script>
  <script>
		async function validURL(url){
		  try {
		    const response = await fetch(url);
		    console.log(url,' -> ', response.status); // üëâÔ∏è 200
		    if (response.ok) {
		      return true;
		    }
		  } catch (err) {
		    console.log(err);
		  }
		  return false;
		}
 

		async function showVideo(url, videoid) {
      var video = document.getElementById(videoid);
			var image = document.getElementById(videoid+"-unavailable");
      exists = await validURL(url);

			if (!exists) {			
				video.remove();
				image.style.visibility = "visible";
			} else {
				video.style.visibility = "visible";
				image.remove();
	      if (Hls.isSupported()) {
	        var hls = new Hls({
	          debug: false,
	        });
	        hls.loadSource( url );
	        hls.attachMedia(video);
	        hls.on(Hls.Events.MEDIA_ATTACHED, function () {
	          video.muted = true;
	          video.play();
	        });
	      }
	      // hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
	      // When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element through the `src` property.
	      // This is using the built-in support of the plain video element, without using hls.js.
	      else if (video.canPlayType('application/vnd.apple.mpegurl')) {
	        video.src = url;
	        video.addEventListener('canplay', function () {
	          video.play();
	        });
	      }
	    }
		}
	</script>

	<center><h3>Cortes√≠a de J.M. Vilari√±o</h3></center>
	
	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_a-coruna_razo' target=camaramar><p>Razo</p></a>
				<div id="Razo-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Razo" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/5_razo.stream/playlist.m3u8';
		showVideo(url, 'Razo')
	</script>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_pontevedra_menduina' target=camaramar><p>Mendui√±a (R√≠a de Aldan)</p></a>				
	    	<div id="Menduina-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Menduina" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
	<script>
		var url = 'https://wow.camaramar.com/camaramar/48_menduina.stream/playlist.m3u8';
		showVideo(url, 'Menduina')
	</script>
			</div>
	  </div>
	</section>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_a-coruna_caraminal' target=camaramar><p>Pobra do Carami√±al</p></a>				
				<div id="Pobra-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Pobra" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/9_caraminal.stream/playlist.m3u8';
		showVideo(url, 'Pobra')
	</script>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_a-coruna_coroso' target=camaramar><p>Coroso - Ribeira</p></a>				
				<div id="Coroso-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Coroso" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/31_coroso.stream/playlist.m3u8';
		showVideo(url, 'Coroso')
	</script>


	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_pontevedra_lanzadanoalla' target=camaramar><p>Noalla - Sanxenxo</p></a>
				<div id="Noalla-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Noalla" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/directo/noalla.stream/playlist.m3u8';
		showVideo(url, 'Noalla')
	</script>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_pontevedra_lanzada' target=camaramar><p>A Lanzada</p></a>
				<div id="Lanzada-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Lanzada" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/68_lanzada.stream/playlist.m3u8';
		showVideo(url, 'Lanzada')
	</script>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_pontevedra_rodeira' target=camaramar><p>Playa de Rodeira (Cangas do Morrazo)</p></a>
				<div id="Rodeira-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Rodeira" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/57_rodeira.stream/playlist.m3u8';
		showVideo(url, 'Rodeira')
	</script>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_a-coruna_perbes' target=camaramar><p>Perbes</p></a>
				<div id="Perbes-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Perbes" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/61_perbes.stream/playlist.m3u8';
		showVideo(url, 'Perbes')
	</script>

	<section style="text-align:center;">
	  <div class="rt-container">
      <div class="col-rt-12">
				<a href='https://www.camaramar.com/webcam/galicia_a-coruna_riazor' target=camaramar><p>Riazor</p></a>				
				<div id="Riazor-unavailable"><img width="100" src=unavailable.png></div>
	    	<video controls id="Riazor" >
          <source/>
          <p>Your browser does not support H.264/MP4.</p>
	    	</video>   
			</div>
	  </div>
	</section>
	<script>
		var url = 'https://wow.camaramar.com/camaramar/23_riazor.stream/playlist.m3u8';
		showVideo(url, 'Riazor')
	</script>

 



	</body>
</html>